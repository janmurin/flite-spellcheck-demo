/*!
 * Source version: 1.1.08 
 * Copyright (C) 2018 LoopIndex - All Rights Reserved
 * You may use, distribute and modify this code under the
 * terms of the LoopIndex Comments CKEditor plugin license.
 *
 * Open source libraries
 * jQuery scrollintoview plugin Copyright (c) 2011 Robert Koritnik https://github.com/litera/jquery-scrollintoview
 * MutationSummary copyright (C) Rafael Weinstein https://github.com/rafaelw/mutation-summary/
 * jQuery autogrow based on code by Jevin O. Sewaruth (https://github.com/jevin/Autogrow-Textarea)
 
 * You should have received a copy of the LoopIndex Comments CKEditor plugin license with
 * this file. If not, please write to: loopindex@gmail.com, or visit http://www.loopindex.com
 * written by (David *)Frenkiel (https://github.com/imdfl) 
 */!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([,function(e,t,r){e.exports=r(2)},function(e,t){!function(){"use strict";var e=window.$LOOPINDEX$;if(!e||"object"!=typeof e){e=window.$LOOPINDEX$={};var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];!function(){var t=[],r=null;if("object"==typeof CKEDITOR&&CKEDITOR.document){var n=CKEDITOR.document.getWindow;CKEDITOR.document.getWindow=function(){var i=Array.prototype.slice.call(arguments),o=n.apply(CKEDITOR.document,i);return t.push(o),r&&e.overrideViewPaneSize(r),o}}e.overrideViewPaneSize=function(e){r=e,t.forEach(function(t){if(!t.__OVERRIDE_GVPS__){var r=t.getViewPaneSize;t.__OVERRIDE_GVPS__=!0,t.getViewPaneSize=function(){var n=Array.prototype.slice.call(arguments),i=r.apply(t,n);return e(i)}}})}}();var r=function(){var e=navigator.userAgent.toLowerCase(),t=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}(e),r={type:"unknown",version:0,msie:!1};return t.browser&&(r[t.browser]=!0,r.version=t.version||0,r.type=t.browser),r.chrome?r.webkit=!0:r.webkit&&(r.safari=!0),r.webkit&&(r.type="webkit"),r.firefox=!0===/firefox/.test(e),r.msie||(r.msie=Boolean(/trident/.test(e))),r}();e.EventsMixin={_listeners:function(e){this._listeners_=this._listeners_||{};var t=this._listeners_;return t[e=e||""]||(t[e]=[]),t[e]},_cleanup:function(){var e=this._listeners_;e&&Object.keys(e).forEach(function(t){var r=e[t];r&&r.length||delete e[t]})},addListener:function(t,r,n,i){if(!t)return e.Logger.warn("cannot register to empty event"),this;if(t instanceof Array){var o=this;t.forEach(function(e){o.addListener(e,r,n)})}else if("function"==typeof r){this._listeners(t).push({scope:n,callback:r,options:i})}else e.Logger.error("events mixin addListener: bad callback",r);return this},removeListener:function(e,t){if(!e&&!t)return this;if(t||"object"!=typeof e||(t=e,e=null),e instanceof Array){var r=this;return e.forEach(function(e){r.removeListener(e,t)}),this}function n(e,r){return e&&(!t||e.scope===t||e.callback===t)}var i=this._listeners_||{};return Object.keys(i).forEach(function(t){e&&e!==t||i[t].removeAll_li(n)}),this._cleanup(),this},removeAllListeners:function(){this._listeners_={}},_notifyListeners:function(t){if(void 0===t||null===t||""===t)return e.Logger.warn("cannot trigger empty event");var r=this._listeners(t),n=r.slice(),i=[],o=Array.prototype.slice.call(arguments,1);n.forEach(function(e){e.callback.apply(e.scope,o),e.options&&e.options.count&&(--e.options.count,e.options.count<=0&&i.push(e))}),i.length&&(i.forEach(function(e){r.remove_li(e)}),this._cleanup())},once:function(e,t,r,n){return(n=n||{}).count=1,this.on(e,t,r,n)}},e.EventsMixin.trigger=e.EventsMixin.fire=e.EventsMixin._notifyListeners,e.EventsMixin.on=e.EventsMixin.bind=e.EventsMixin.addListener,e.EventsMixin.off=e.EventsMixin.removeListener,e.Utils=e.Utils||e.utils||{},e.utils=e.Utils,e.utils.padString=function(e,t,r,n){e=null===e||void 0===e?"":String(e);for(var i=(r=String(r)).length,o=e.length;o<t;o+=i)n?e+=padWidth:e=r+e;return e},e.utils.padNumber=function(t,r){return r=r||2,e.utils.padString(t,r,"0")},e.utils.compareNodePosition=function(e,t){if(e==t)return 0;var r=(e.$||e).compareDocumentPosition(t.$||t);return 4&r?-1:8&r?-1:1},e.utils.relativeDateFormat=function(r,n){if(!r)return"";var o,l,s,u,a=new Date,c=a.getDate(),f=a.getMonth(),g=a.getFullYear(),h=n||function(e){return e};"string"!=(o=typeof r)&&"number"!=o||(r=new Date(1e3*Number(r)));var p=h("months")||t,d={dateString:r.toLocaleDateString()};return"string"==typeof p&&(p=p.split(",").map(function(e){return e.trim()})),d.months=p,c==r.getDate()&&f==r.getMonth()&&g==r.getFullYear()?(s=Math.floor((a.getTime()-r.getTime())/6e4),d.minutesAgo=s,s<1?h("now"):s<2?h("1 minute ago"):s<60?(l=h("minutes ago"))?i(l,r,h,d):s+"minutes ago":(l=h("on time"))?i(l,r,h,d):(u=r.getHours(),s=r.getMinutes(),"on "+e.utils.padNumber(u,2)+":"+e.utils.padNumber(s,2,"0"))):g==r.getFullYear()?(l=h("on date"))?i(l,r,h,d):"on "+p[r.getMonth()]+" "+r.getDate():(l=h("on full date"))?i(l,r,h,d):r.toLocaleDateString()},e.utils.getElementClampInWindowValues=function(e,t){var r=e.offset(),n={x:0,y:0},i=e.width(),o=e.height(),l=e[0].ownerDocument,s=l&&(l.defaultView||l.parentWindow);return s?(t=t||0,r.top-t<=s.pageYOffset?n.y=s.pageYOffset-r.top+t:r.top+o+t>s.pageYOffset+s.innerHeight&&(n.y=s.pageYOffset+s.innerHeight-r.top-o-t),r.left-t<s.pageXOffset?n.x=s.pageXOffset-r.left+t:r.left+i+t>s.pageXOffset+s.innerWidth&&(n.x=s.pageXOffset+s.innerWidth-r.left-i-t),n):n},e.utils.isElementOnScreen=function(t){var r=e.utils.getElementClampInWindowValues(t);return 0===r.x&&0===r.y},e.utils.scrollToElement=function(t,r){if(t)return e.utils.initJquery(),t.scrollintoview()},e.utils.randomString=function(e){e=e||6;var t=(new Date).getTime().toString(),r=btoa(t).replace(/[^a-z]/gi,"");return r.length>e&&(r=r.substring(r.length-e)),r},e.utils.timeOfTimestamp=function(t){if(!t)return"";var r=typeof t;"string"!=r&&"number"!=r||(t=new Date(1e3*t));var n=t.getHours(),i=t.getMinutes();return e.utils.padString(n,2,"0")+":"+e.utils.padString(i,2,"0")},e.utils.datetimeOfTimestamp=function(t){if(!t)return"";var r=typeof date;return"string"!=r&&"number"!=r||(date=new Date(1e3*date)),e.utils.dateOfTimestamp(t)+", "+e.utils.timeOfTimestamp(t)},e.utils.minuteAgoOfTimestamp=function(e){if(!e)return"";var t=new Date;e instanceof Date&&(e=e.getTime());var r=Math.round(t.getTime()/1e3)-e;return parseInt(r/60)},e.utils.secondAgoOfTimestamp=function(e){if(!e)return"";var t=new Date;e instanceof Date&&(e=e.getTime());var r=Math.round(t.getTime()/1e3)-e;return r<0&&(r=0),r},e.utils.fullDateFormat=function(e){if(!e)return"";var t=typeof e;"string"!=t&&"number"!=t||(e=new Date(1e3*e));return e.getDate()+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]+" "+e.getFullYear()},e.utils.fullDateTimeFormat=function(t){return e.utils.fullDateFormat(t)+" "+e.utils.timeOfTimestamp(t)},e.utils.fullLocalDateFormat=function(e){return e?(date="string"==typeof e||"number"==typeof e?new Date(1e3*e):e,date.toLocaleDateString()):""},e.utils.fullLocalDateTimeFormat=function(e){if(!e)return"";var t=typeof e;return"string"!=t&&"number"!=t||(e=new Date(1e3*e)),e.toLocaleString()},e.utils.shorthandDateTime=function(t){if(!t)return"";var r=new Date,n=r.getDate(),i=r.getMonth(),o=r.getFullYear(),l=typeof t;"string"!=l&&"number"!=l||(t=new Date(1e3*t));var s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return n==t.getDate()&&i==t.getMonth()&&o==t.getFullYear()?e.utils.timeOfTimestamp(t):o==t.getFullYear()?s[t.getMonth()]+" "+t.getDate():s[t.getMonth()]+" "+t.getDate()+", "+t.getFullYear()},e.utils.URLArguments={getArgument:function(e,t){return this._parseLocation(),this._args.hasOwnProperty(e)?decodeURIComponent(this._args[e]):t},getNumericArgument:function(e,t){var r=this.getArgument(e,""),n=parseInt(r,10);return isNaN(n)&&(n=t),n},getAllArguments:function(){this._parseLocation();var e,t={};for(e in this._args)this._args.hasOwnProperty(e)&&(t[e]=this._args[e]);return t},createSearchString:function(e){if(!e)return"";var t,r,n="";for(t in e)e.hasOwnProperty(t)&&"function"!=typeof(r=e[t])&&(n.length&&(n+="&"),n+=t+"="+decodeURIComponent(r));return n},parse:function(e,t){if(t=t||{},"string"!=typeof e||e.length<1)return{};var r=e.charAt(0);"?"!==r&&"#"!==r||(e=e.substring(1));var n,i,o,l,s=e.split("&"),u={true:!0,false:!1};for(n=s.length-1;n>=0;--n)(i=s[n])&&(o=i.indexOf("="))>0&&(l=decodeURIComponent(i.substring(o+1)),u.hasOwnProperty(l)&&(l=u[l]),t[i.substring(0,o)]=l);return t},_args:null,_url:"",_parseLocation:function(){var e=window.location;if(this._url!==e.href||!this._args){this._url=e.href;var t={};this.parse(e.search,t),this.parse(e.hash,t),this._args=t}return this._args}},Object.defineProperties(e.Utils,{browser:{get:function(){return jQuery.extend({},r)}}});var n=Array.prototype;n.contains_li||Object.defineProperty(n,"contains_li",{enumerable:!1,value:function(e){if(null==this)throw new TypeError;return this.indexOf(e)>=0}}),n.select_li||Object.defineProperty(n,"select_li",{enumerable:!1,value:function(e){if(null==this)throw new TypeError;var t=Object(this).length>>>0;if(0===t)return[];var r=new Array(t);return this.each_li(function(t,n){r[t]=e(n,t)}),r}}),n.removeAll_li||Object.defineProperty(n,"removeAll_li",{enumerable:!1,value:function(e){if(null==this)throw new TypeError;var t=Object(this).length>>>0;if(0===t)return-1;for(var r=t-1;r>=0;--r)e(this[r],r)&&this.splice(r,1)}}),n.first_li||Object.defineProperty(n,"first_li",{enumerable:!1,value:function(e){if(null==this)throw new TypeError;var t=this.firstIndexOf_li(e);return t>=0?this[t]:null}}),n.firstIndexOf_li||Object.defineProperty(n,"firstIndexOf_li",{enumerable:!1,value:function(e){if(null==this)throw new TypeError;var t=Object(this).length>>>0;if(0===t)return-1;for(var r=0;r<t;++r){if(e(this[r]))return r}return-1}}),n.where_li||Object.defineProperty(n,"where_li",{enumerable:!1,value:function(e){if(null==this)throw new TypeError;if(0===Object(this).length>>>0)return[];var t=[];return this.each_li(function(r,n){e(n,r)&&t.push(n)}),t}}),n.each_li||Object.defineProperty(n,"each_li",{enumerable:!1,value:function(t){if(null==this)throw new TypeError;var r=Object(this).length>>>0;if(0===r)return[];for(var n=0;n<r;++n)try{t.apply(null,[n,this[n]])}catch(t){e.Logger.error(t)}}}),n.remove_li||Object.defineProperty(n,"remove_li",{enumerable:!1,value:function(e){if(null==this)throw new TypeError;if(0===Object(this).length>>>0)return-1;var t=this.indexOf(e);return t>=0?(this.splice(t,1),t):-1}}),e.Logger=function(){var e={log:!1,debug:!1,warn:!1,error:!1,trace:!1};return{_logs:[],config:function(t){$.extend(e,t)},ignore:function(){},log:function(){e.log&&this._log("log",Array.prototype.slice.call(arguments))},error:function(){e.error&&this._log("error",Array.prototype.slice.call(arguments))},debug:function(){e.debug&&this._log("log",Array.prototype.slice.call(arguments))},trace:function(){if(e.trace){var t=Error().stack,r=t?[t.replace("Error","Debug:"),"\n"]:[];this._log("log",r.concat(Array.prototype.slice.call(arguments)))}},warn:function(){this._log("warn",Array.prototype.slice.call(arguments))},_log:function(e,t){var r=new Date,n=[r.getMinutes(),r.getSeconds(),r.getMilliseconds()].join(":");t.unshift(n+">"),this._logs.push({method:e,logs:t}),this.scheduleDump()},dump:function(){var e=this._logs;this._logs=[],e.forEach(function(e){console[e.method].apply(console,e.logs)})},timeout:null,scheduleDump:function(){this.timeout||(this.timeout=setTimeout(function(){this.timeout=null,this.dump()}.bind(this),500))}}}(),e.utils.initJquery=function(){window.jQuery&&!window.jQuery.fn.scrollIntoView&&function(e){var t={vertical:{x:!1,y:!0},horizontal:{x:!0,y:!1},both:{x:!0,y:!0},x:{x:!0,y:!1},y:{x:!1,y:!0}},r={duration:"fast",direction:"both"},n=/^(?:html)$/i,i=function(t){var r=e(window),i=n.test(t[0].nodeName);return{border:i?{top:0,left:0,bottom:0,right:0}:function(t,r){r=r||(document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null):t.currentStyle);var n=!(!document.defaultView||!document.defaultView.getComputedStyle),i={top:parseFloat(n?r.borderTopWidth:e.css(t,"borderTopWidth"))||0,left:parseFloat(n?r.borderLeftWidth:e.css(t,"borderLeftWidth"))||0,bottom:parseFloat(n?r.borderBottomWidth:e.css(t,"borderBottomWidth"))||0,right:parseFloat(n?r.borderRightWidth:e.css(t,"borderRightWidth"))||0};return{top:i.top,left:i.left,bottom:i.bottom,right:i.right,vertical:i.top+i.bottom,horizontal:i.left+i.right}}(t[0]),scroll:{top:(i?r:t).scrollTop(),left:(i?r:t).scrollLeft()},scrollbar:{right:i?0:t.innerWidth()-t[0].clientWidth,bottom:i?0:t.innerHeight()-t[0].clientHeight},rect:function(){var e=t[0].getBoundingClientRect();return{top:i?0:e.top,left:i?0:e.left,bottom:i?t[0].clientHeight:e.bottom,right:i?t[0].clientWidth:e.right}}()}};e.fn.extend({scrollintoview:function(o){(o=e.extend({},r,o)).direction=t["string"==typeof o.direction&&o.direction.toLowerCase()]||t.both;var l="";!0===o.direction.x&&(l="horizontal"),!0===o.direction.y&&(l=l?"both":"vertical");var s=this.eq(0),u=s.closest(":scrollable("+l+")");if(u.length>0){u=u.eq(0);var a={e:i(s),s:i(u)},c={top:a.e.rect.top-(a.s.rect.top+a.s.border.top),bottom:a.s.rect.bottom-a.s.border.bottom-a.s.scrollbar.bottom-a.e.rect.bottom,left:a.e.rect.left-(a.s.rect.left+a.s.border.left),right:a.s.rect.right-a.s.border.right-a.s.scrollbar.right-a.e.rect.right},f={};!0===o.direction.y&&(c.top<0?f.scrollTop=a.s.scroll.top+c.top:c.top>0&&c.bottom<0&&(f.scrollTop=a.s.scroll.top+Math.min(c.top,-c.bottom))),!0===o.direction.x&&(c.left<0?f.scrollLeft=a.s.scroll.left+c.left:c.left>0&&c.right<0&&(f.scrollLeft=a.s.scroll.left+Math.min(c.left,-c.right))),e.isEmptyObject(f)?e.isFunction(o.complete)&&o.complete.call(u[0]):(n.test(u[0].nodeName)&&(u=e("html,body")),u.animate(f,o.duration).eq(0).queue(function(t){e.isFunction(o.complete)&&o.complete.call(u[0]),t()}))}return this}});var o={auto:!0,scroll:!0,visible:!1,hidden:!1};e.extend(e.expr[":"],{scrollable:function(e,r,i,l){var s=t[i&&"string"==typeof i[3]&&i[3].toLowerCase()]||t.both,u=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle,a={x:o[u.overflowX.toLowerCase()]||!1,y:o[u.overflowY.toLowerCase()]||!1,isRoot:n.test(e.nodeName)};if(!a.x&&!a.y&&!a.isRoot)return!1;var c={height:{scroll:e.scrollHeight,client:e.clientHeight},width:{scroll:e.scrollWidth,client:e.clientWidth},scrollableX:function(){return(a.x||a.isRoot)&&this.width.scroll>this.width.client},scrollableY:function(){return(a.y||a.isRoot)&&this.height.scroll>this.height.client}};return s.y&&c.scrollableY()||s.x&&c.scrollableX()}})}(window.jQuery)}}function i(t,r,n,i){return t.replace(/%MMM/g,(i.months||[])[r.getMonth()]).replace(/%M/g,(n("full_months")||[])[r.getMonth()]).replace(/%YY/g,r.getYear()%100).replace(/%Y/g,r.getFullYear()).replace(/%YY/g,r.getYear()%100).replace(/%hh/g,e.utils.padNumber(r.getHours())).replace(/%h/g,r.getHours()).replace(/%ma/g,i.minutesAgo).replace(/%mm/g,e.utils.padNumber(r.getMinutes())).replace(/%m/g,r.getMinutes()).replace(/%dd/g,e.utils.padNumber(r.getDate())).replace(/%d/g,r.getDate()).replace(/%F/g,i.dateString)}}()}]);