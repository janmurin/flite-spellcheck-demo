Ext.data.JsonP.FLITE_LIChangeTracker({"tagname":"class","name":"FLITE.LIChangeTracker","autodetected":{},"files":[{"filename":"tracker.js","href":null}],"members":[{"name":"acceptAll","tagname":"method","owner":"FLITE.LIChangeTracker","id":"method-acceptAll","meta":{}},{"name":"acceptChange","tagname":"method","owner":"FLITE.LIChangeTracker","id":"method-acceptChange","meta":{}},{"name":"currentChangeNode","tagname":"method","owner":"FLITE.LIChangeTracker","id":"method-currentChangeNode","meta":{}},{"name":"getChanges","tagname":"method","owner":"FLITE.LIChangeTracker","id":"method-getChanges","meta":{}},{"name":"getCleanDOM","tagname":"method","owner":"FLITE.LIChangeTracker","id":"method-getCleanDOM","meta":{}},{"name":"getCurrentUser","tagname":"method","owner":"FLITE.LIChangeTracker","id":"method-getCurrentUser","meta":{}},{"name":"isInsideChange","tagname":"method","owner":"FLITE.LIChangeTracker","id":"method-isInsideChange","meta":{}},{"name":"rejectAll","tagname":"method","owner":"FLITE.LIChangeTracker","id":"method-rejectAll","meta":{}},{"name":"rejectChange","tagname":"method","owner":"FLITE.LIChangeTracker","id":"method-rejectChange","meta":{}},{"name":"setCurrentUser","tagname":"method","owner":"FLITE.LIChangeTracker","id":"method-setCurrentUser","meta":{}},{"name":"setIgnoreMutations","tagname":"method","owner":"FLITE.LIChangeTracker","id":"method-setIgnoreMutations","meta":{}},{"name":"setSessionId","tagname":"method","owner":"FLITE.LIChangeTracker","id":"method-setSessionId","meta":{}},{"name":"toggleChangeTracking","tagname":"method","owner":"FLITE.LIChangeTracker","id":"method-toggleChangeTracking","meta":{"chainable":true}}],"alternateClassNames":[],"aliases":{},"id":"class-FLITE.LIChangeTracker","classIcon":"icon-class","superclasses":[],"subclasses":[],"mixedInto":[],"mixins":[],"parentMixins":[],"requires":[],"uses":[],"html":"<div><div class='doc-contents'><p>The change tracking engine\ninteracts with a <code>contenteditable</code> DOM element</p>\n</div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div id='method-acceptAll' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='FLITE.LIChangeTracker'>FLITE.LIChangeTracker</span><br/></div><a href='#!/api/FLITE.LIChangeTracker-method-acceptAll' class='name expandable'>acceptAll</a>( <span class='pre'>options</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Accepts all changes in the element body - removes delete nodes, and removes outer\ninsert tags keeping the inner conte...</div><div class='long'><p>Accepts all changes in the element body - removes delete nodes, and removes outer\ninsert tags keeping the inner content in place.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>options</span> : <a href=\"#!/api/FLITE.AcceptRejectOptions\" rel=\"FLITE.AcceptRejectOptions\" class=\"docClass\">FLITE.AcceptRejectOptions</a><div class='sub-desc'><p>filtering options for the changes to be accepted</p>\n<p>Defaults to: <code>null</code></p></div></li></ul></div></div></div><div id='method-acceptChange' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='FLITE.LIChangeTracker'>FLITE.LIChangeTracker</span><br/></div><a href='#!/api/FLITE.LIChangeTracker-method-acceptChange' class='name expandable'>acceptChange</a>( <span class='pre'>node</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Accepts the change at the given, or first tracking parent node of, node. ...</div><div class='long'><p>Accepts the change at the given, or first tracking parent node of, <code>node</code>.  If\n<code>node</code> is undefined then the startContainer of the current collapsed range will be used.\nIn the case of insert, inner content will be used to replace the containing tag; and in\nthe case of delete, the node will be removed.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>node</span> : Node<div class='sub-desc'><p>the node whose change you want to reject</p>\n</div></li></ul></div></div></div><div id='method-currentChangeNode' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='FLITE.LIChangeTracker'>FLITE.LIChangeTracker</span><br/></div><a href='#!/api/FLITE.LIChangeTracker-method-currentChangeNode' class='name expandable'>currentChangeNode</a>( <span class='pre'>node, onlyNode, cleanup</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Returns the first flite node in the hierarchy of the given node, or the current collapsed range. ...</div><div class='long'><p>Returns the first flite node in the hierarchy of the given node, or the current collapsed range.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>node</span> : Object<div class='sub-desc'><p>if null, check the current selection</p>\n</div></li><li><span class='pre'>onlyNode</span> : Object<div class='sub-desc'><p>if true, check only the node, not its parents</p>\n</div></li><li><span class='pre'>cleanup</span> : Object<div class='sub-desc'><p>if false, don't clean up empty nodes around selection\nnull if not in a track changes hierarchy</p>\n</div></li></ul></div></div></div><div id='method-getChanges' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='FLITE.LIChangeTracker'>FLITE.LIChangeTracker</span><br/></div><a href='#!/api/FLITE.LIChangeTracker-method-getChanges' class='name expandable'>getChanges</a>( <span class='pre'>[options]</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Returns the changes - a hash of objects with the following properties:\n[changeid] => {type, time, userid, username, l...</div><div class='long'><p>Returns the changes - a hash of objects with the following properties:\n[changeid] => {<code>type</code>, <code>time</code>, <code>userid</code>, <code>username</code>, <code>lastTime</code>, <code>data</code>}</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>options</span> : <a href=\"#!/api/FLITE.AcceptRejectOptions\" rel=\"FLITE.AcceptRejectOptions\" class=\"docClass\">FLITE.AcceptRejectOptions</a> (optional)<div class='sub-desc'><p>filtering options for the changes to be accepted</p>\n<p>Defaults to: <code>null</code></p></div></li></ul></div></div></div><div id='method-getCleanDOM' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='FLITE.LIChangeTracker'>FLITE.LIChangeTracker</span><br/></div><a href='#!/api/FLITE.LIChangeTracker-method-getCleanDOM' class='name expandable'>getCleanDOM</a>( <span class='pre'>body, options</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Returns a clone of the DOM, without tracking tags, for this.element or\nthe optional body param which can be of either...</div><div class='long'><p>Returns a clone of the DOM, without tracking tags, for <code>this.element</code> or\nthe optional <code>body</code> param which can be of either type string or node.\nDelete tags, and their html content, are completely removed; all other\nchange type tags are removed, leaving the html content in place.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>body</span> : Object<div class='sub-desc'><p>If not null, the node or html to process</p>\n</div></li><li><span class='pre'>options</span> : Object<div class='sub-desc'><p>may contain:</p>\n\n<ul><li>callback - executed after cleaning, should return the processed body</li>\n<li>clone If true, process a clone of the target element</li>\n<li>prepare function to run on body before the cleaning</li></ul>\n\n</div></li></ul></div></div></div><div id='method-getCurrentUser' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='FLITE.LIChangeTracker'>FLITE.LIChangeTracker</span><br/></div><a href='#!/api/FLITE.LIChangeTracker-method-getCurrentUser' class='name expandable'>getCurrentUser</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Returns an object with the fields name and id. ...</div><div class='long'><p>Returns an object with the fields name and id.</p>\n</div></div></div><div id='method-isInsideChange' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='FLITE.LIChangeTracker'>FLITE.LIChangeTracker</span><br/></div><a href='#!/api/FLITE.LIChangeTracker-method-isInsideChange' class='name expandable'>isInsideChange</a>( <span class='pre'>node, onlyNode</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Returns true if the given node, or the current collapsed range is in a tracking\nnode; otherwise, false. ...</div><div class='long'><p>Returns true if the given <code>node</code>, or the current collapsed range is in a tracking\nnode; otherwise, false.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>node</span> : Object<div class='sub-desc'><p>The node to test or null to test the selection</p>\n</div></li><li><span class='pre'>onlyNode</span> : Object<div class='sub-desc'><p>if true, test only the node</p>\n</div></li></ul></div></div></div><div id='method-rejectAll' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='FLITE.LIChangeTracker'>FLITE.LIChangeTracker</span><br/></div><a href='#!/api/FLITE.LIChangeTracker-method-rejectAll' class='name expandable'>rejectAll</a>( <span class='pre'>options</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Rejects all changes in the element body - removes insert nodes, and removes outer\ndelete tags keeping the inner conte...</div><div class='long'><p>Rejects all changes in the element body - removes insert nodes, and removes outer\ndelete tags keeping the inner content in place.*</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>options</span> : <a href=\"#!/api/FLITE.AcceptRejectOptions\" rel=\"FLITE.AcceptRejectOptions\" class=\"docClass\">FLITE.AcceptRejectOptions</a><div class='sub-desc'><p>filtering options for the changes to be accepted</p>\n<p>Defaults to: <code>null</code></p></div></li></ul></div></div></div><div id='method-rejectChange' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='FLITE.LIChangeTracker'>FLITE.LIChangeTracker</span><br/></div><a href='#!/api/FLITE.LIChangeTracker-method-rejectChange' class='name expandable'>rejectChange</a>( <span class='pre'>node</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Rejects the change at the given, or first tracking parent node of, node. ...</div><div class='long'><p>Rejects the change at the given, or first tracking parent node of, <code>node</code>.  If\n<code>node</code> is undefined then the startContainer of the current collapsed range will be used.\nIn the case of delete, inner content will be used to replace the containing tag; and in\nthe case of insert, the node will be removed.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>node</span> : Node<div class='sub-desc'><p>the node whose change you want to reject</p>\n</div></li></ul></div></div></div><div id='method-setCurrentUser' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='FLITE.LIChangeTracker'>FLITE.LIChangeTracker</span><br/></div><a href='#!/api/FLITE.LIChangeTracker-method-setCurrentUser' class='name expandable'>setCurrentUser</a>( <span class='pre'>inUser</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Set the user to be tracked. ...</div><div class='long'><p>Set the user to be tracked.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>inUser</span> : Object<div class='sub-desc'><p>and object has the following properties:\n{<code>id</code>, <code>name</code>}</p>\n</div></li></ul></div></div></div><div id='method-setIgnoreMutations' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='FLITE.LIChangeTracker'>FLITE.LIChangeTracker</span><br/></div><a href='#!/api/FLITE.LIChangeTracker-method-setIgnoreMutations' class='name expandable'>setIgnoreMutations</a>( <span class='pre'>ignore</span> ) :  Boolean <span class=\"signature\"></span></div><div class='description'><div class='short'>Set the flag telling the tracker whether or not to process DOM Mutation events ...</div><div class='long'><p>Set the flag telling the tracker whether or not to process DOM Mutation events</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>ignore</span> : Object<div class='sub-desc'><p>the value of the flag</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'> Boolean </span><div class='sub-desc'><p>the previous ignoreMutationsState</p>\n</div></li></ul></div></div></div><div id='method-setSessionId' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='FLITE.LIChangeTracker'>FLITE.LIChangeTracker</span><br/></div><a href='#!/api/FLITE.LIChangeTracker-method-setSessionId' class='name expandable'>setSessionId</a>( <span class='pre'>sid</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>Set the session id. ...</div><div class='long'><p>Set the session id. If the session id is not null, the tracker aggregates change span\nfrom the same user only if they have the same session id</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>sid</span> : Object<div class='sub-desc'></div></li></ul></div></div></div><div id='method-toggleChangeTracking' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='FLITE.LIChangeTracker'>FLITE.LIChangeTracker</span><br/></div><a href='#!/api/FLITE.LIChangeTracker-method-toggleChangeTracking' class='name expandable'>toggleChangeTracking</a>( <span class='pre'>bTrack</span> ) : <a href=\"#!/api/FLITE.LIChangeTracker\" rel=\"FLITE.LIChangeTracker\" class=\"docClass\">FLITE.LIChangeTracker</a><span class=\"signature\"><span class='chainable' >chainable</span></span></div><div class='description'><div class='short'>Sets or toggles the tracking and event handling state. ...</div><div class='long'><p>Sets or toggles the tracking and event handling state.</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>bTrack</span> : Boolean<div class='sub-desc'><p>if undefined, the tracking state is toggled, otherwise set to the parameter</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'><a href=\"#!/api/FLITE.LIChangeTracker\" rel=\"FLITE.LIChangeTracker\" class=\"docClass\">FLITE.LIChangeTracker</a></span><div class='sub-desc'><p>this</p>\n</div></li></ul></div></div></div></div></div></div></div>","meta":{}});